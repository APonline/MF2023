
<div class="content mf-theme">
  <!-- dialog-box.component.html -->
  <h1><strong>{{action}} {{tool}}</strong></h1>
  <br/>

  <div *ngIf="action != 'Delete'; else elseTemplate">
    <ul>
      <li>
        <div>


          <div class="row">
            <div class="col-8">
              <label class="btn btn-default p-0">
                <input type="file" multiple (change)="selectFiles($event)" />
              </label>
            </div>

            <div class="col-4">
              <button
                class="btn btn-success btn-sm"
                [disabled]="!selectedFiles"
                (click)="uploadFiles()"
              >
                Upload
              </button>
            </div>
          </div>

          <div *ngFor="let progressInfo of progressInfos" class="mb-2">
            <span>{{ progressInfo.fileName }}</span>
            <div class="progress">
              <!-- <div
                class="progress-bar progress-bar-info"
                role="progressbar"
                attr.aria-valuenow="{{ progressInfo.value }}"
                aria-valuemin="0"
                aria-valuemax="100"
                [ngStyle]="{ width: progressInfo.value + '%' }"
              >
                {{ progressInfo.value }}%
              </div> -->
              <div
                class="progress-bar progress-bar-info"
                role="progressbar"
                attr.aria-valuenow="{{ progressInfo.value }}"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                {{ progressInfo.value }}%
              </div>
            </div>
          </div>

          <div *ngIf="message.length" class="alert alert-secondary my-3" role="alert">
            <ul *ngFor="let msg of message; let i = index">
              <li>{{ msg }}</li>
            </ul>
          </div>

          <div class="card mt-3">
            <ul
              class="list-group list-group-flush"
              *ngFor="let file of fileInfos | async"
            >
              <li class="list-group-item">
                <p><a href="{{ file.url }}">{{ file.name }}</a></p>
                <img src="{{ file?.display }}" alt="{{ file?.name }}" height="80px" />

              </li>
            </ul>
          </div>



        </div>
      </li>
    </ul>
  </div>

  <ng-template #elseTemplate>
    Are you sure?
  </ng-template>

  <div mat-dialog-actions>
    <button (click)="doAction()" mat-raised-button color="primary">{{action}}</button>
    <button (click)="closeDialog()" mat-raised-button color="accent">Cancel</button>
  </div>
</div>
